* 如何用clj执行一个函数？ #card #clojure
:PROPERTIES:
:card-last-interval: 4.14
:card-repeats: 2
:card-ease-factor: 2.7
:card-next-schedule: 2022-05-18T04:39:02.479Z
:card-last-reviewed: 2022-05-14T01:39:02.479Z
:card-last-score: 5
:END:
** #+BEGIN_SRC shell
clj -X:my-fn

;; Top key override
clj -X:my-fn :config 789

;; Nested key override
clj -X:my-fn '[:my :data]' 789

;; deps.edn
{:aliases
 {:my-fn
  {:exec-fn my.qualified/fn
   :exec-args {:my {:data 123}
               :config 456}}}}

;; 执行任意函数--不通过alias
clj -X my.qualified/fn :config 789
#+END_SRC
* 如何用clj执行clojure.main？ #card #clojure
:PROPERTIES:
:card-last-interval: 4.14
:card-repeats: 2
:card-ease-factor: 2.7
:card-next-schedule: 2022-05-18T04:38:19.855Z
:card-last-reviewed: 2022-05-14T01:38:19.856Z
:card-last-score: 5
:END:
** #+BEGIN_SRC shell
clj -M[aliases] [main-opts]

#clojure.main/main 有一个-m namespace的选择，用来在namespace中查找-main入口函数

# 还可以执行一个clj的脚本
clj -M /path/to/myscript.clj arg1 arg2 arg3
#+END_SRC
* 如何用clj执行一个Tool？ #card #clojure
:PROPERTIES:
:card-last-interval: 4.14
:card-repeats: 2
:card-ease-factor: 2.7
:card-next-schedule: 2022-05-18T04:38:37.025Z
:card-last-reviewed: 2022-05-14T01:38:37.025Z
:card-last-score: 5
:END:
** #+BEGIN_SRC shell
clj [clj-opt*] -T[name|aliases] a/fn [kpath v]* kv-map?
#+END_SRC