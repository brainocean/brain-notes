* Atom的适用场景是什么？ #card #clojure
:PROPERTIES:
:card-last-interval: 11.2
:card-repeats: 3
:card-ease-factor: 2.8
:card-next-schedule: 2022-05-15T04:48:34.333Z
:card-last-reviewed: 2022-05-04T00:48:34.334Z
:card-last-score: 5
:END:
** 对单一的孤立的数据的不需要协调的同步访问，和Ref相比更加轻量级
* 如何创建一个Atom并获取它的值？ #card #Clojure
:PROPERTIES:
:card-last-interval: 11.2
:card-repeats: 3
:card-ease-factor: 2.8
:card-next-schedule: 2022-05-15T04:50:26.916Z
:card-last-reviewed: 2022-05-04T00:50:26.917Z
:card-last-score: 5
:END:
** #+BEGIN_SRC clojure
(def current-track (atom "Venus, the Bringer of Peace")) 
;-> #'user/current-track

(deref current-track)
;-> "Venus, the Bringer of Peace"

@current-track
;-> "Venus, the Bringer of Peace"
#+END_SRC
* 如何改变一个Atom的值？ #card #clojure
:PROPERTIES:
:card-last-interval: 11.2
:card-repeats: 3
:card-ease-factor: 2.8
:card-next-schedule: 2022-05-15T04:49:54.622Z
:card-last-reviewed: 2022-05-04T00:49:54.622Z
:card-last-score: 5
:END:
** #+BEGIN_SRC clojure
(reset! current-track "Credo")
;-> "Credo"

(swap! current-track assoc :title "Sancte Deus")
;-> {:title "Sancte Deus", :composer "Tallis"}
;如果有其他线程正在修改同一数据，swap！可能会重试，因此传给swap!的函数不能有副作用
#+END_SRC